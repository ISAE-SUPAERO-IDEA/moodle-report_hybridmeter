{% extends 'dash/layout.html' %}
{% load dash %}

{% block body %}

        <div class="top">
            <div class="container-fluid">
                <a href="{% url 'learners' %}" >Apprenants</a>
                &nbsp;|&nbsp;
                <a href="{% url 'resources' %}" >Ressources</a>
                <a href="{% url 'cas_ng_logout' %}" class="float-right">DÃ©connexion</a>
                <div>
                   <!-- Item selection -->
                   <select type="" id="selector" class="form-control">
                        <option value=""></option>
                        {% for choice in choices %}
                            <option value="{{ choice.key }}">{{ choice.name }}</option>
                        {% endfor %}
                    </select>
                    <hr/>
                    <script>
                    
                        // on learner selection

                        $('#selector').on("change", (e) => {
                            change_param("id",$('#selector').val());
                        });

                        // On page load
                        // Select user
                        $(document).ready((e) => {
                                var urlParams = new URLSearchParams(window.location.search);
                                if (urlParams.has('id')) {
                                  $('#selector').val(urlParams.get('id'));  
                                } 
                        });
                       
                    </script>


                    {% block top %}
                    {% endblock %}
                </div>
                
            </div>
        </div>
        <div>
            <div class="container-fluid">
                
                {% block content %}
                {% endblock %}
            </div>
        </div>

    <style>
        .top {
            position:sticky;
            top:0px;
            background-color:#fff;
            z-index:1000;
        }
    </style>
{% endblock %}  
</html>